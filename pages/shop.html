<!DOCTYPE html>
<html>
<title>Flora</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="../images/flower-icons/carnation-icon.png"/>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1 {font-family: "Raleway", Arial, sans-serif}
h1 {letter-spacing: 6px}
.w3-row-padding img {margin-bottom: 12px}
</style>

<head>
    <link rel="stylesheet" type="text/css" href="../styles/styles.css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="../scripts/app.js"></script>
    <script type="text/javascript" src="../scripts/loadHeader.js"></script>
    <script type="text/javascript" src="../scripts/addtocartTEST.js"></script>
    
    <script>
        $(document).ready(function() {
          var url_string = window.location.href;
          var url = new URL(url_string);
          var c = (url.searchParams.get("search"));
          var searchInput;
          if (c != null) {
              searchInput = c.toLowerCase();
          }

          var products = [
        {
            "itemNum": 1,
            "name": "Optimist",
            "image": "../images/bouquets/optimist.png",
            "meaning": "This bouquet is perfect for Mother's Day. The flowers within it show love and adoration.",
            "price": 34
        },
        {
            "itemNum": 2,
            "name": "The Firecracker",
            "image": "../images/bouquets/the-firecracker.png",
            "meaning": "The bold flowers within this bouquet show love, passion, and devotion.",
            "price": 34
        },
        {
            "itemNum": 3,
            "name": "Refresh",
            "image": "../images/bouquets/refresh.png",
            "meaning": "The flowers in this bouquet show love and appreciation.",
            "price": 34
        },
        {
            "itemNum": 4,
            "name": "Pearl",
            "image": "../images/bouquets/pearl.png",
            "meaning": "This bouquet shows pure, familial love.",
            "price": 34
        },
        {
            "itemNum": 5,
            "name": "Momenta",
            "image": "../images/bouquets/momenta.png",
            "meaning": "These flowers show love and devotion.",
            "price": 34
        },
        {
            "itemNum": 6,
            "name": "Carnelian",
            "image": "../images/bouquets/carnelian.png",
            "meaning": "This bouquet sends the message of happiness.",
            "price": 34
        },
        {
            "itemNum": 7,
            "name": "Cafe Azul",
            "image": "../images/bouquets/cafe-azul.png",
            "meaning": "These flowers show warmth and thinking of someone.",
            "price": 34
        },
        {
            "itemNum": 8,
            "name": "The Prism",
            "image": "../images/bouquets/the-prism.png",
            "meaning": "The bold flowers within this bouquet show love, passion, and devotion.",
            "price": 34
        }
    ];
    
          var j = 0;
          var content = "";
          for (var i in products) {
            if (i % 4 === 0) {
              $("#products").append("<tr id='row" + i + "'></tr>");
              j = i;
            }
            // Get all bouquets (no search)
            if (searchInput == null || searchInput.length == 0) {
                //$("#row" + j).append("<td><div class='shop-item'><div class='quick-add-btn-container'><button class='quick-add-btn' onclick='addToCart("+products[i].itemNum+");'></button></div><img onclick='loadItemInfo("+products[i].itemNum+");' src='" + products[i].image + "' style='width:200px;height:270px;'></div><div class='text-center'>" + products[i].name + "</div> </br><div>$" + products[i].price + "</div></td>");
                //$("#row" + j).append("<td><div class='shop-item-image shop-item'><div class='quick-add-btn-container'><img class='quick-add-btn' src='../images/quick-add-btn.png' onclick='addToCart("+products[i].itemNum+");'/></div><div class='shop-item-parent'><img onclick='loadItemInfo("+products[i].itemNum+");' src='" + products[i].image + "' style='width:200px;height:270px; border-radius:20px;'></div></div><div class='text-center'>" + products[i].name + "</div><div>$" + products[i].price + "</div></td>");
                $("#row" + j).append("<td><div class='shop-item-image shop-item'><div class='quick-add-btn-container'><img class='quick-add-btn' src='../images/quick-add-btn.png' onclick='addToCart("+products[i].itemNum+","+products[i].price+");'/></div><div class='shop-item-parent'><img onclick='loadItemInfo("+products[i].itemNum+");' src='" + products[i].image + "' style='width:200px;height:270px; border-radius:20px;'></div></div><div class='text-center shop-item-title'>" + products[i].name + "</div></td>");

            } else {
                // Get bouquets based on search 
                if ((products[i].meaning).toLowerCase().includes(searchInput) || (products[i].name).toLowerCase().includes(searchInput)){
                    $("#row" + j).append("<td><div class='shop-item-image shop-item'><div class='quick-add-btn-container'><img class='quick-add-btn' src='../images/quick-add-btn.png' onclick='addToCart("+products[i].itemNum+","+products[i].price+");'/></div><div class='shop-item-parent'><img onclick='loadItemInfo("+products[i].itemNum+");' src='" + products[i].image + "' style='width:200px;height:270px; border-radius:20px;'></div></div><div class='text-center'>" + products[i].name + "</div></td>");
                }
            }
        }
        });
      </script>
</head>

<body>
<!-- PAGE CONTENT! -->
<div class="w3-content" style="max-width:1500px">

<!-- Header -->
<header class="w3-panel w3-center w3-opacity">

    <div>
        <h1 class="logo" ALIGN=CENTER>Flora</h1>
        <div class="w3-bar">
    
        <a href="index.html" class="w3-bar-item w3-button">Home</a>
        <a href="shop.html" class="w3-bar-item w3-button  w3-light-grey">Shop</a>
        <a href="build-your-bouquet.html" class="w3-bar-item w3-button">Build Your Bouquet</a>
        <a href="quiz.html" class="w3-bar-item w3-button w3-hide-small">Find Your Flowers Quiz</a>
        </div>
        <a href="cart.html">
            <img class="cart-icon" src="../images/cart.png"/>
        </a>
    </div>
</header>

<!--  SEARCH BAR -->
<!-- Load icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- The form -->
<form class="example" action="shop.html">
  <input type="text" placeholder="Search..." name="search">
  <button type="submit"><i class="fa fa-search"></i></button>
</form>


<!-- PRODUCTS CONTENT-->

<div class="table-parent center center-table" style="padding-top: 35px;">
    <div class="inner center-table">
        <table class="table table-center shop-table">
            <tbody id="products"></tbody>
        </table>
    </div>      
</div>

<!--<h1>Responsive Image Grid Example</h1>
<div class="outer-grid">
    <table class="table">
        <tbody id="products"></tbody>
    </table>
</div> -->

<!--<h1>Responsive Image Grid Example</h1>
<div class="outer-grid" style="text-align: center">
    <div class="inner-grid">
        <table class="table">
            <tbody id="products"></tbody>
        </table>
    </div>
    
</div> -->

<!-- End Page Content -->
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-large"> 
  <i class="fa fa-facebook-official w3-hover-opacity"></i>
  <i class="fa fa-instagram w3-hover-opacity"></i>
  <i class="fa fa-snapchat w3-hover-opacity"></i>
  <i class="fa fa-pinterest-p w3-hover-opacity"></i>
  <i class="fa fa-twitter w3-hover-opacity"></i>
  <i class="fa fa-linkedin w3-hover-opacity"></i>
  <p>Follow us on social media</p>
  <p>Bouquet images from Urbanstems.com</p>
</footer>

<script>
    //console.log(Cookies.get('name'));
    console.log("defaultBouquet1:" + sessionStorage.getItem("defaultBouquet"+1));
    console.log("defaultBouquet2:" + sessionStorage.getItem("defaultBouquet"+2));
    console.log("cartCtr:" + sessionStorage.getItem("defaultBouquetCtr"));
</script>

</body>
</html>
